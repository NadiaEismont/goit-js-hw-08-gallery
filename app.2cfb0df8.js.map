{"version":3,"sources":["refs.js","app.js"],"names":["refs","gallery","document","querySelector","lightbox","buttonModalClose","preview","backdrop","galleryItems","original","description","tagUl","getTemplate","item","createListItemsMarkup","items","map","join","onBackdrop","evt","currentTarget","target","onCloseModal","onOpenModal","preventDefault","classList","add","src","dataset","source","alt","window","addEventListener","onEscKeyPress","onArrowPress","once","removeEventListener","remove","code","currentImage","findIndex","image","length","insertAdjacentHTML"],"mappings":";AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,MAAMA,EAAO,CAChBC,QAASC,SAASC,cAAc,eAChCC,SAAUF,SAASC,cAAc,gBACjCE,iBAAkBH,SAASC,cAAc,wCACzCG,QAASJ,SAASC,cAAc,oBAChCI,SAAUL,SAASC,cAAc,uBAL9B,QAAA,KAAA;;AC+HN,aA/HD,IAAA,EAAA,QAAA,UACA,MAAMK,EAAe,CAAC,CACdF,QAAS,uFACTG,SAAU,uFACVC,YAAa,mBAEjB,CACIJ,QAAS,4EACTG,SAAU,4EACVC,YAAa,6BAEjB,CACIJ,QAAS,wEACTG,SAAU,wEACVC,YAAa,qBAEjB,CACIJ,QAAS,0EACTG,SAAU,0EACVC,YAAa,iBAEjB,CACIJ,QAAS,4EACTG,SAAU,4EACVC,YAAa,oBAEjB,CACIJ,QAAS,4EACTG,SAAU,4EACVC,YAAa,yBAEjB,CACIJ,QAAS,2EACTG,SAAU,2EACVC,YAAa,yBAEjB,CACIJ,QAAS,4EACTG,SAAU,4EACVC,YAAa,oBAEjB,CACIJ,QAAS,6EACTG,SAAU,6EACVC,YAAa,yBAIfC,EAAQX,EAAKC,KAAAA,QACbW,EAAcC,uEAIVA,EAAKJ,8DAIJI,EAAKP,8BACGO,EAAKJ,uBACbI,EAAKH,kCAKhB,SAASI,EAAsBC,GACpBA,OAAAA,EAAMC,IAAIJ,GAAaK,KAAK,IAUvC,SAASC,EAAWC,GACZA,EAAIC,gBAAkBD,EAAIE,QAC1BC,IAIR,SAASC,EAAYJ,GACbA,EAAIC,gBAAkBD,EAAIE,SAG9BF,EAAIK,iBACCpB,EAAAA,KAAAA,SAASqB,UAAUC,IAAI,WACvBpB,EAAAA,KAAAA,QAAQqB,IAAMR,EAAIE,OAAOO,QAAQC,OACjCvB,EAAAA,KAAAA,QAAQwB,IAAMX,EAAIE,OAAOS,IAE9BC,OAAOC,iBAAiB,UAAWC,GAC9BhC,EAAAA,KAAAA,QAAQ+B,iBAAiB,UAAWE,GAEpC7B,EAAAA,KAAAA,iBAAiB2B,iBAAiB,QAASV,EAAc,CAAEa,MAAM,KAG1E,SAASb,IACLS,OAAOK,oBAAoB,UAAWH,GACjC7B,EAAAA,KAAAA,SAASqB,UAAUY,OAAO,WAC1B/B,EAAAA,KAAAA,QAAQqB,IAAM,GACdrB,EAAAA,KAAAA,QAAQwB,IAAM,GAKvB,SAASG,EAAcd,GACF,WAAbA,EAAImB,MACJhB,IAMR,SAASY,EAAaf,GACdoB,IAAAA,EAAe/B,EAAagC,UAAUC,GAASA,EAAMhC,WAAaT,EAAKM,KAAAA,QAAQqB,KAClE,eAAbR,EAAImB,OAEJC,EAAeA,EAAe/B,EAAakC,OAAS,EAAKH,EAAe,EAAK,GAGhE,cAAbpB,EAAImB,OAEJC,EAAeA,EAAe,EAAKA,EAAe,EAAK/B,EAAakC,OAAS,GAG5EpC,EAAAA,KAAAA,QAAQqB,IAAMnB,EAAa+B,GAAc9B,SACzCH,EAAAA,KAAAA,QAAQwB,IAAMtB,EAAa+B,GAAcT,IAzDlDnB,EAAMgC,mBAAmB,aAAc7B,EAAsBN,IAE7DR,EAAKC,KAAAA,QAAQ+B,iBAAiB,QAAST,GACvCvB,EAAKO,KAAAA,SAASyB,iBAAiB,QAASd,GACxClB,EAAKM,KAAAA,QAAQ0B,iBAAiB,QAASd","file":"app.2cfb0df8.js","sourceRoot":"../src","sourcesContent":["export const refs = {\n    gallery: document.querySelector('.js-gallery'),\n    lightbox: document.querySelector('.js-lightbox'),\n    buttonModalClose: document.querySelector('button[data-action=\"close-lightbox\"]'),\n    preview: document.querySelector('.lightbox__image'),\n    backdrop: document.querySelector('.lightbox__overlay'),\n}","import { refs } from './refs'\nconst galleryItems = [{\n        preview: 'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n        original: 'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n        description: 'Hokkaido Flower',\n    },\n    {\n        preview: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n        original: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n        description: 'Container Haulage Freight',\n    },\n    {\n        preview: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n        original: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n        description: 'Aerial Beach View',\n    },\n    {\n        preview: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n        original: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n        description: 'Flower Blooms',\n    },\n    {\n        preview: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n        original: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n        description: 'Alpine Mountains',\n    },\n    {\n        preview: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n        original: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n        description: 'Mountain Lake Sailing',\n    },\n    {\n        preview: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n        original: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n        description: 'Alpine Spring Meadows',\n    },\n    {\n        preview: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n        original: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n        description: 'Nature Landscape',\n    },\n    {\n        preview: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n        original: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n        description: 'Lighthouse Coast Sea',\n    },\n];\n\nconst tagUl = refs.gallery; //document.querySelector('.js-gallery');\nconst getTemplate = item =>\n    `<li class=\"gallery__item\">\n<a\n  class=\"gallery__link\"\n  href=\"${item.original}\"\n>\n  <img\n    class=\"gallery__image\"\n    src=\"${item.preview}\"\n    data-source=\"${item.original}\"\n    alt=\"${item.description}\"\n  />\n</a>\n</li>`\n\nfunction createListItemsMarkup(items) {\n    return items.map(getTemplate).join('');\n}\n\n\ntagUl.insertAdjacentHTML('afterbegin', createListItemsMarkup(galleryItems));\n\nrefs.gallery.addEventListener('click', onOpenModal);\nrefs.backdrop.addEventListener('click', onBackdrop);\nrefs.preview.addEventListener('click', onBackdrop);\n\nfunction onBackdrop(evt) {\n    if (evt.currentTarget === evt.target) {\n        onCloseModal();\n    }\n}\n\nfunction onOpenModal(evt) {\n    if (evt.currentTarget === evt.target) {\n        return;\n    }\n    evt.preventDefault();\n    refs.lightbox.classList.add('is-open');\n    refs.preview.src = evt.target.dataset.source;\n    refs.preview.alt = evt.target.alt;\n\n    window.addEventListener('keydown', onEscKeyPress);\n    refs.gallery.addEventListener('keydown', onArrowPress);\n\n    refs.buttonModalClose.addEventListener('click', onCloseModal, { once: true });\n}\n\nfunction onCloseModal() {\n    window.removeEventListener('keydown', onEscKeyPress);\n    refs.lightbox.classList.remove('is-open');\n    refs.preview.src = '';\n    refs.preview.alt = '';\n}\n\n\n\nfunction onEscKeyPress(evt) {\n    if (evt.code === 'Escape') {\n        onCloseModal();\n    }\n\n}\n\n\nfunction onArrowPress(evt) {\n    let currentImage = galleryItems.findIndex(image => image.original === refs.preview.src);\n    if (evt.code === 'ArrowRight') {\n\n        currentImage = currentImage < galleryItems.length - 1 ? (currentImage + 1) : 0;\n    }\n\n    if (evt.code === 'ArrowLeft') {\n\n        currentImage = currentImage > 0 ? (currentImage - 1) : galleryItems.length - 1;\n    }\n\n    refs.preview.src = galleryItems[currentImage].original;\n    refs.preview.alt = galleryItems[currentImage].alt;\n};"]}